<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heinrich's Pyramid Diagram</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="mermaid">
        flowchart LR
            id1([Murphy's Law: Anything that can go wrong, will go wrong.]) --> A
            A@{ shape: comment, label: "Consider worst-case scenarios, avoid wishful thinking" }
            id2([Todd's Law: Recurring problems are system features.]) --> B
            B@{ shape: comment, label: "Look for systemic root causes, not isolated incidents" }
            id3([Rust's Law: Complexity is inversely proportional to maintainability.]) --> C
            C@{ shape: comment, label: "More complex = harder to maintain" }
            id4([Three Don't Touch / Three Don't Leave Rules])
            D1@{ shape: brace-r, label: "Don't Touch During Peak Business Hours" }
            D2@{ shape: brace-r, label: "Don't Touch When Running Stable" }
            D3@{ shape: brace-r, label: "Don't Touch Without a Backup Plan" }
            D11@{ shape: lin-rect, label: "Avoid operations during peak hours\nHigher risk of user impact\nSchedule maintenance during low-traffic periods" }
            D21@{ shape: lin-rect, label: "Don't change what's working well\nAny change introduces risk\nFollow 'if it ain't broke, don't fix it'" }
            D31@{ shape: lin-rect, label: "Always have a backup plan ready\nBackup plan is crucial for recovery\nBack up data before every change" }
            D1 --> id4
            D11 --> D1
            D2 --> id4 
            D21 --> D2
            D3 --> id4
            D31 --> D3
            D4@{ shape: comment, label: "Don't Leave Without Post-Change Verification" }
            D5@{ shape: comment, label: "Don't Leave Without Clearing Alerts" }
            D6@{ shape: comment, label: "Don't Leave Without Investigating Anomalies" }
            D41@{ shape: lin-rect, label: "Perform comprehensive checks after changes\nVerification ensures normal operation\nUse monitoring tools and log analysis" }
            D51@{ shape: lin-rect, label: "Handle and clear alerts promptly\nUnhandled alerts cause degradation\nEstablish alert handling processes" }
            D61@{ shape: lin-rect, label: "Investigate anomalies thoroughly\nUninvestigated issues cause instability\nUse log analysis and troubleshooting tools" }
            id4 --> D4
            id4 --> D5
            id4 --> D6
            D4 --> D41
            D5 --> D51  
            D6 --> D61
    </div>

    <div class="mermaid">
        flowchart LR
            id1([墨菲定律：凡是可能出错的事，终将出错。]) --> A
            A@{ shape: comment, label: "考虑最坏情况，避免侥幸心理" }
            id2([托德定律：如果一个问题多次重复发生，它就不是一个问题，而是一个系统特性。]) --> B
            B@{ shape: comment, label: "寻找系统性根因，非孤立事件" }
            id3([拉斯特法则：系统的复杂性与维护该系统的能力成反比。]) --> C
            C@{ shape: comment, label: "越复杂越难维护" }
            id4([三不动/三不离法则])
            D1@{ shape: brace-r, label: "业务高峰期不动" }
            D2@{ shape: brace-r, label: "运行稳定时不动" }
            D3@{ shape: brace-r, label: "无备份方案不动" }
            D11@{ shape: lin-rect, label: "高峰期避免操作\n风险高影响用户\n选择低谷期维护" }
            D21@{ shape: lin-rect, label: "稳定运行不轻易改动\n任何更改都有风险\n遵循不修复原则" }
            D31@{ shape: lin-rect, label: "必须有完善备份方案\n备份是恢复关键保障\n做好数据备份和回滚计划" }
            D1 --> id4
            D11 --> D1
            D2 --> id4
            D21 --> D2
            D3 --> id4
            D31 --> D3
            D4@{ shape: comment, label: "变更后未经检查不离" }
            D5@{ shape: comment, label: "发现告警不清理后不离" }
            D6@{ shape: comment, label: "发现异常不查明不离" }
            D41@{ shape: lin-rect, label: "变更后全面检查验证\n确保系统正常运行\n使用监控工具和日志分析" }
            D51@{ shape: lin-rect, label: "及时处理和清理告警\n避免性能下降和故障\n建立告警处理流程" }
            D61@{ shape: lin-rect, label: "深入调查分析异常\n防止系统不稳定风险\n使用日志分析和排障工具" }
            id4 --> D4
            id4 --> D5
            id4 --> D6
            D4 --> D41
            D5 --> D51
            D6 --> D61
    </div>
</body>
</html>
