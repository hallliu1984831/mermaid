----Chinese
# ä»“åº“ç”Ÿæ€ç³»ç»Ÿï¼šè½¯ä»¶ä¸–ç•Œçš„"è¶…çº§å•†åœº"

## æ¬¢è¿æ¥åˆ°è½¯ä»¶ä»“åº“å¥¥ç‰¹è±æ–¯ ğŸ¬
å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ä»¬æ¥é€›é€›è½¯ä»¶ä¸–ç•Œçš„å¥¥ç‰¹è±æ–¯â€”â€”å„ç§ä»“åº“ï¼ˆrepositoryï¼‰ç³»ç»Ÿã€‚å°±åƒç°å®ä¸­çš„å•†åœºæœ‰ä¸åŒçš„ä¸“é—¨åº—ä¸€æ ·ï¼Œè½¯ä»¶å¼€å‘ä¸­ä¹Ÿæœ‰å„ç§ä¸“ä¸šä»“åº“ï¼Œæ¯ä¸ªéƒ½æœ‰å„è‡ªçš„ç‰¹è‰²å’Œç”¨é€”ã€‚
æƒ³è±¡ä¸€ä¸‹ï¼Œä½ èµ°è¿›ä¸€ä¸ªå·¨å¤§çš„è½¯ä»¶ä»“åº“å•†åœºï¼ŒæŒ‰ç…§è½¯ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µåˆ†å¸ƒï¼Œèƒ½é‡åˆ°å¦‚ä¸‹ä¸åŒçš„"ä¸“å–åº—"ï¼š
å¼€å‘åŒºåŸŸ ğŸ“šï¼š
- Gitä»“åº“ï¼šæºä»£ç å›¾ä¹¦é¦†ï¼Œå­˜æ”¾æ‰€æœ‰çš„"çŸ¥è¯†"
- è¯­è¨€åŒ…ä»“åº“ï¼šå„ç§ç¼–ç¨‹è¯­è¨€çš„"åŸæ–™åº“"ï¼ˆMavenã€npmã€PyPIç­‰ï¼‰
æ„å»ºåŒºåŸŸ ğŸ“¦ï¼š
- Dockerä»“åº“ï¼šé›†è£…ç®±ä¸“å–åº—ï¼Œå„ç§æ‰“åŒ…å¥½çš„åº”ç”¨éšå–éšç”¨
- åˆ¶å“ä»“åº“ï¼šå­˜æ”¾ç¼–è¯‘åçš„"åŠæˆå“"
éƒ¨ç½²åŒºåŸŸ âš“ï¼š
- Helmä»“åº“ï¼šKubernetesåº”ç”¨çš„"é…ç½®åŒ…"ä¸“å–åº—
- é…ç½®ä»“åº“ï¼šå„ç§éƒ¨ç½²é…ç½®å’Œè„šæœ¬
ç®¡ç†ä¸­å¿ƒ ğŸªï¼š
- ç»Ÿä¸€ä»“åº“ç®¡ç†å¹³å°ï¼šJFrogã€Nexusç­‰"è¶…çº§ç®¡ç†ç³»ç»Ÿ"
æ¯ä¸ªåŒºåŸŸéƒ½æœåŠ¡äºè½¯ä»¶äº¤ä»˜çš„ä¸åŒé˜¶æ®µï¼Œè®©ç ”å‘/Devops/SREçš„å·¥ä½œæ›´åŠ é«˜æ•ˆã€å¯é ï¼

## 1. å¼€å‘é˜¶æ®µï¼šæºç å’Œä¾èµ–ç®¡ç†

### 1.1 Gitä»“åº“ï¼šæºä»£ç å›¾ä¹¦é¦†
Gitä»“åº“æ˜¯è½¯ä»¶å¼€å‘çš„"çŸ¥è¯†å›¾ä¹¦é¦†"ï¼Œå­˜å‚¨ç€æ‰€æœ‰çš„æºä»£ç ã€æ–‡æ¡£å’Œé¡¹ç›®å†å²ã€‚ä»SREçš„è§’åº¦ï¼Œè¿™æ˜¯ä¸€åˆ‡çš„èµ·ç‚¹ï¼Œä»£ç è´¨é‡å’Œç‰ˆæœ¬ç®¡ç†ç›´æ¥å½±å“åç»­çš„æ„å»ºã€éƒ¨ç½²å’Œè¿ç»´å·¥ä½œã€‚

#### ä»“åº“æ‰˜ç®¡å¹³å°
å…¬å…±å¹³å°ï¼š
- GitHubï¼šå…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¼€æºé¡¹ç›®é¦–é€‰
- GitLabï¼šåŠŸèƒ½ä¸°å¯Œçš„DevOpså¹³å°ï¼ŒCI/CDé›†æˆåº¦é«˜
- Bitbucketï¼šAtlassianç”Ÿæ€ï¼Œä¸Jiraé›†æˆè‰¯å¥½
- Giteeï¼šå›½å†…ä¸»æµçš„ä»£ç æ‰˜ç®¡å¹³å°

ç§æœ‰éƒ¨ç½²ï¼š
- GitLab CE/EEï¼šå¯ç§æœ‰éƒ¨ç½²çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ
- Giteaï¼šè½»é‡çº§çš„GitæœåŠ¡
- Azure DevOps Serverï¼šå¾®è½¯çš„ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆ

#### SREå…³æ³¨ç‚¹
- åˆ†æ”¯ç­–ç•¥ï¼šå½±å“å‘å¸ƒæµç¨‹å’Œå›æ»šç­–ç•¥
- æƒé™ç®¡ç†ï¼šä»£ç å®‰å…¨å’Œåˆè§„æ€§
- CI/CDé›†æˆï¼šè‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²çš„èµ·ç‚¹
- å¤‡ä»½ç­–ç•¥ï¼šä»£ç æ˜¯æœ€é‡è¦çš„èµ„äº§

### 1.2 è¯­è¨€åŒ…ä»“åº“ï¼šå¼€å‘ä¾èµ–åº“
å„ç§ç¼–ç¨‹è¯­è¨€çš„åŒ…ä»“åº“æ˜¯å¼€å‘çš„"åŸæ–™åº“"ï¼Œå­˜å‚¨ç€é¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ã€‚ä»SREè§’åº¦ï¼Œè¿™äº›ä¾èµ–çš„ç®¡ç†ç›´æ¥å½±å“æ„å»ºçš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚

#### ä¸»è¦ç±»å‹
Javaç”Ÿæ€ - Mavenä»“åº“ â˜•ï¼š
- ä¸­å¤®ä»“åº“ï¼šMavenå®˜æ–¹å…¨çƒä»“åº“
- æœ¬åœ°ä»“åº“ï¼šå¼€å‘è€…æœºå™¨ç¼“å­˜
- ç§æœ‰ä»“åº“ï¼šä¼ä¸šå†…éƒ¨Mavenä»“åº“

```xml
<!-- é…ç½®ç§æœ‰ä»“åº“ -->
<repositories>
    <repository>
        <id>company-nexus</id>
        <url>http://nexus.company.com/repository/maven-public/</url>
    </repository>
</repositories>
```

JavaScriptç”Ÿæ€ - npmä»“åº“ ğŸŸ¨ï¼š
- å…¬å…±ä»“åº“ï¼šnpmjs.com
- ç§æœ‰æ–¹æ¡ˆï¼šVerdaccioã€npm Enterprise

```bash
# é…ç½®ç§æœ‰ä»“åº“
npm config set registry http://npm.company.com/
```

Pythonç”Ÿæ€ - PyPIä»“åº“ ğŸï¼š
- å…¬å…±ä»“åº“ï¼špypi.org
- ç§æœ‰æ–¹æ¡ˆï¼šdevpiã€PyPI Server

å…¶ä»–è¯­è¨€åŒ…ä»“åº“ï¼šNuGetï¼ˆ.NETï¼‰ã€Go Modulesã€RubyGemsç­‰

#### SREå…³æ³¨ç‚¹
- ä¾èµ–å®‰å…¨ï¼šæ¼æ´æ‰«æå’Œè®¸å¯è¯åˆè§„
- æ„å»ºç¨³å®šæ€§ï¼šé¿å…ä¾èµ–ä¸‹è½½å¤±è´¥
- ç¼“å­˜ç­–ç•¥ï¼šæé«˜æ„å»ºé€Ÿåº¦
- ç‰ˆæœ¬ç®¡ç†ï¼šä¾èµ–ç‰ˆæœ¬é”å®šå’Œå‡çº§ç­–ç•¥

## 2. æ„å»ºé˜¶æ®µï¼šé•œåƒå’Œåˆ¶å“ç®¡ç† ğŸ“¦

### 2.1 Dockeré•œåƒä»“åº“ï¼šåº”ç”¨å®¹å™¨å•†åº—
"Build once, run anywhere"ï¼ŒDockeré•œåƒä»“åº“æ˜¯æ„å»ºé˜¶æ®µçš„æ ¸å¿ƒï¼Œå­˜å‚¨ç€æ‰“åŒ…å¥½çš„åº”ç”¨å®¹å™¨ã€‚ä»SREè§’åº¦ï¼Œè¿™æ˜¯è¿æ¥å¼€å‘å’Œéƒ¨ç½²çš„å…³é”®ç¯èŠ‚ï¼Œé•œåƒçš„è´¨é‡å’Œç®¡ç†ç›´æ¥å½±å“éƒ¨ç½²çš„æˆåŠŸç‡ã€‚

#### ä»“åº“ç±»å‹
å…¬å…±ä»“åº“ï¼š
- Docker Hubï¼šå…¨çƒæœ€å¤§çš„Dockeré•œåƒä»“åº“
- Quay.ioï¼šRed Hatçš„ä¼ä¸šçº§é•œåƒä»“åº“
- äº‘å‚å•†å…¬å…±ä»“åº“ï¼ˆAWS ECR Publicã€Google GCRç­‰ï¼‰

ç§æœ‰ä»“åº“ï¼š
- Harborï¼šä¼ä¸šçº§Dockerä»“åº“ï¼ŒåŠŸèƒ½ä¸°å¯Œ
- Docker Registryï¼šå®˜æ–¹è½»é‡çº§ä»“åº“
- äº‘å‚å•†ç§æœ‰ä»“åº“ï¼ˆAWS ECRã€Azure ACRã€é˜¿é‡Œäº‘ACRç­‰ï¼‰

#### å®é™…åº”ç”¨åœºæ™¯
```bash
# CI/CDæµæ°´çº¿ä¸­çš„é•œåƒæ“ä½œ
docker build -t myapp:${BUILD_NUMBER} .
docker tag myapp:${BUILD_NUMBER} harbor.company.com/project/myapp:${BUILD_NUMBER}
docker push harbor.company.com/project/myapp:${BUILD_NUMBER}

# ç”Ÿäº§ç¯å¢ƒæ‹‰å–é•œåƒ
docker pull harbor.company.com/project/myapp:v1.0.0
```

#### SREå…³æ³¨ç‚¹
- é•œåƒå®‰å…¨ï¼šæ¼æ´æ‰«æå’ŒåŸºç¡€é•œåƒç®¡ç†
- é•œåƒå¤§å°ï¼šå½±å“éƒ¨ç½²é€Ÿåº¦å’Œå­˜å‚¨æˆæœ¬
- ç‰ˆæœ¬ç®¡ç†ï¼šæ ‡ç­¾ç­–ç•¥å’Œé•œåƒç”Ÿå‘½å‘¨æœŸ
- è®¿é—®æ§åˆ¶ï¼šé•œåƒæ‹‰å–æƒé™å’Œç½‘ç»œç­–ç•¥
- å­˜å‚¨ç®¡ç†ï¼šé•œåƒæ¸…ç†å’Œå­˜å‚¨ä¼˜åŒ–

### 2.2 åˆ¶å“ä»“åº“ï¼šæ„å»ºäº§ç‰©å­˜å‚¨
åˆ¶å“ä»“åº“å­˜å‚¨æ„å»ºè¿‡ç¨‹ä¸­äº§ç”Ÿçš„å„ç§"åŠæˆå“"å’Œ"æˆå“"ï¼ŒåŒ…æ‹¬ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€å®‰è£…åŒ…ã€æ–‡æ¡£ç­‰ã€‚è¿™æ˜¯æ„å»ºæµæ°´çº¿çš„é‡è¦è¾“å‡ºã€‚

#### åˆ¶å“ç±»å‹
- äºŒè¿›åˆ¶æ–‡ä»¶ï¼šå¯æ‰§è¡Œæ–‡ä»¶ã€åº“æ–‡ä»¶ï¼Œå¦‚javaçš„libæ–‡ä»¶
- å®‰è£…åŒ…ï¼šRPMã€DEBã€MSIç­‰ç³»ç»ŸåŒ…
- å‹ç¼©åŒ…ï¼šTARã€ZIPç­‰å½’æ¡£æ–‡ä»¶
- æ–‡æ¡£ï¼šAPIæ–‡æ¡£ã€ç”¨æˆ·æ‰‹å†Œ
- æµ‹è¯•æŠ¥å‘Šï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç»“æœ

#### SREå…³æ³¨ç‚¹
- æ„å»ºè¿½æº¯ï¼šåˆ¶å“ä¸æºç ç‰ˆæœ¬çš„å¯¹åº”å…³ç³»
- è´¨é‡ä¿è¯ï¼šæµ‹è¯•é€šè¿‡çš„åˆ¶å“æ‰èƒ½å‘å¸ƒ
- å­˜å‚¨ç­–ç•¥ï¼šåˆ¶å“ä¿ç•™æ—¶é—´å’Œæ¸…ç†ç­–ç•¥
- åˆ†å‘æ•ˆç‡ï¼šåˆ¶å“ä¸‹è½½é€Ÿåº¦å’Œå¯ç”¨æ€§

## 3. éƒ¨ç½²é˜¶æ®µï¼šé…ç½®å’Œåº”ç”¨åŒ…ç®¡ç† âš“

### 3.1 Helmä»“åº“ï¼šKubernetesåº”ç”¨å•†åº—
Helmæ˜¯Kubernetesçš„"åŒ…ç®¡ç†å™¨"ï¼ŒHelmä»“åº“å­˜å‚¨ç€å„ç§Kubernetesåº”ç”¨çš„"é…ç½®åŒ…"ï¼ˆChartsï¼‰ã€‚ä»SREè§’åº¦ï¼Œè¿™æ˜¯æ ‡å‡†åŒ–éƒ¨ç½²å’Œåº”ç”¨ç®¡ç†çš„å…³é”®å·¥å…·ã€‚

#### Helm Chartç»“æ„
```
mychart/
  Chart.yaml          # Chartå…ƒæ•°æ®
  values.yaml         # é»˜è®¤é…ç½®å€¼
  charts/             # ä¾èµ–çš„å­Chart
  templates/          # Kubernetesæ¨¡æ¿æ–‡ä»¶
    deployment.yaml
    service.yaml
    ingress.yaml
```

#### ä»“åº“ç±»å‹
å…¬å…±ä»“åº“ï¼š
- Artifact Hubï¼šHelmå®˜æ–¹çš„Chartæœç´¢å¹³å°
- Bitnami Chartsï¼šé«˜è´¨é‡çš„åº”ç”¨Charté›†åˆ
- å„å‚å•†å®˜æ–¹Chartä»“åº“

ç§æœ‰ä»“åº“ï¼š
- ChartMuseumï¼šè½»é‡çº§çš„Helm Chartä»“åº“
- Harborï¼šæ”¯æŒHelm Chartå­˜å‚¨çš„ä¼ä¸šçº§ä»“åº“

#### å¸¸ç”¨æ“ä½œ
```bash
# SREæ—¥å¸¸æ“ä½œ
helm repo add bitnami https://charts.bitnami.com/bitnami
helm repo update

# éƒ¨ç½²åº”ç”¨
helm install my-nginx bitnami/nginx -f production-values.yaml

# å‡çº§åº”ç”¨
helm upgrade my-nginx bitnami/nginx --set replicaCount=3

# å›æ»šåº”ç”¨
helm rollback my-nginx 1
```

#### SREå…³æ³¨ç‚¹
- æ ‡å‡†åŒ–éƒ¨ç½²ï¼šç»Ÿä¸€çš„åº”ç”¨éƒ¨ç½²æ¨¡å¼
- é…ç½®ç®¡ç†ï¼šç¯å¢ƒç‰¹å®šçš„é…ç½®å€¼
- ç‰ˆæœ¬æ§åˆ¶ï¼šChartç‰ˆæœ¬å’Œåº”ç”¨ç‰ˆæœ¬çš„å¯¹åº”
- ä¾èµ–ç®¡ç†ï¼šChartä¹‹é—´çš„ä¾èµ–å…³ç³»
- å›æ»šèƒ½åŠ›ï¼šå¿«é€Ÿå›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬

### 3.2 é…ç½®ä»“åº“ï¼šéƒ¨ç½²é…ç½®ç®¡ç†
é…ç½®ä»“åº“å­˜å‚¨å„ç§éƒ¨ç½²ç›¸å…³çš„é…ç½®æ–‡ä»¶ã€è„šæœ¬å’Œæ¨¡æ¿ã€‚è¿™æ˜¯GitOpså®è·µçš„åŸºç¡€ï¼Œæ‰€æœ‰çš„é…ç½®å˜æ›´éƒ½é€šè¿‡ç‰ˆæœ¬æ§åˆ¶ç®¡ç†ã€‚

#### é…ç½®ç±»å‹
- ç¯å¢ƒé…ç½®ï¼šä¸åŒç¯å¢ƒçš„é…ç½®å‚æ•°
- åŸºç¡€è®¾æ–½ä»£ç ï¼šTerraformã€Ansibleè„šæœ¬
- CI/CDé…ç½®ï¼šæµæ°´çº¿å®šä¹‰æ–‡ä»¶
- fluxCD: Kustomizationã€HelmReleaseç­‰

#### SREå…³æ³¨ç‚¹
- é…ç½®å³ä»£ç ï¼šæ‰€æœ‰é…ç½®éƒ½ç‰ˆæœ¬åŒ–ç®¡ç†
- ç¯å¢ƒä¸€è‡´æ€§ï¼šç¡®ä¿ä¸åŒç¯å¢ƒé…ç½®çš„ä¸€è‡´æ€§
- å˜æ›´è¿½è¸ªï¼šé…ç½®å˜æ›´çš„å®¡è®¡å’Œå›æ»š
- æƒé™æ§åˆ¶ï¼šé…ç½®ä¿®æ”¹çš„æƒé™ç®¡ç†

## 4. ç®¡ç†å¹³å°ï¼šç»Ÿä¸€ä»“åº“ç®¡ç†ç³»ç»Ÿ ğŸª

### 4.1 JFrog Artifactoryï¼šä¼ä¸šçº§ç»Ÿä¸€å¹³å°


Artifactoryæ˜¯ä¼ä¸šçº§çš„"ä¸‡èƒ½ä»“åº“ç®¡ç†å™¨"ï¼Œä»SREè§’åº¦çœ‹ï¼Œå®ƒæ˜¯ç»Ÿä¸€ç®¡ç†æ‰€æœ‰åˆ¶å“çš„ä¸­å¤®å¹³å°ï¼Œæä¾›ä¼ä¸šçº§çš„å®‰å…¨ã€åˆè§„å’Œæ€§èƒ½ä¿éšœã€‚

#### æ”¯æŒçš„ä»“åº“ç±»å‹ -- å…¨æ ¼å¼æ”¯æŒï¼š
- æºç ä¾èµ–ï¼šMavenã€npmã€PyPIã€NuGetã€Go Modules
- å®¹å™¨é•œåƒï¼šDockerã€OCI
- åº”ç”¨åŒ…ï¼šHelmã€APTã€YUMã€RPM
- é€šç”¨æ–‡ä»¶ï¼šRawã€Generic

#### ä¼ä¸šçº§ç‰¹æ€§ä¹‹SREå…³æ³¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼š
- é«˜å¯ç”¨éƒ¨ç½²ï¼šé›†ç¾¤æ¨¡å¼ï¼Œé¿å…å•ç‚¹æ•…éšœ
- å…¨çƒåˆ†å‘ï¼šCDNåŠ é€Ÿï¼Œæé«˜å…¨çƒå›¢é˜Ÿè®¿é—®é€Ÿåº¦
- å®‰å…¨æ‰«æï¼šé›†æˆXrayè¿›è¡Œæ¼æ´å’Œè®¸å¯è¯æ‰«æ
- å®¡è®¡åˆè§„ï¼šå®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œåˆè§„æŠ¥å‘Š
- è‡ªåŠ¨åŒ–æ¸…ç†ï¼šåŸºäºç­–ç•¥çš„åˆ¶å“ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### SREè¿ç»´ä¼˜åŠ¿
- ç»Ÿä¸€ç›‘æ§ï¼šæ‰€æœ‰ä»“åº“çš„ç»Ÿä¸€ç›‘æ§å’Œå‘Šè­¦
- å¤‡ä»½æ¢å¤ï¼šä¼ä¸šçº§çš„å¤‡ä»½å’Œç¾éš¾æ¢å¤
- æ€§èƒ½ä¼˜åŒ–ï¼šæ™ºèƒ½ç¼“å­˜å’Œè´Ÿè½½å‡è¡¡
- æƒé™ç®¡ç†ï¼šç»†ç²’åº¦çš„è®¿é—®æ§åˆ¶å’ŒRBAC

### 4.2 Nexus Repositoryï¼šå®ç”¨å‹ç®¡ç†å¹³å°


Nexusæ˜¯æ€§ä»·æ¯”å¾ˆé«˜çš„ä»“åº“ç®¡ç†å¹³å°ï¼Œç‰¹åˆ«é€‚åˆä¸­å°ä¼ä¸šã€‚å¼€æºç‰ˆæœ¬åŠŸèƒ½å·²ç»å¾ˆå¼ºå¤§ï¼Œå•†ä¸šç‰ˆæœ¬æä¾›ä¼ä¸šçº§æ”¯æŒã€‚

#### ç‰ˆæœ¬å¯¹æ¯”
Nexus Repository OSSï¼ˆå¼€æºç‰ˆï¼‰ï¼š
- å…è´¹ä½¿ç”¨ï¼Œæ”¯æŒä¸»æµåŒ…æ ¼å¼
- åŸºç¡€çš„ä»“åº“ç®¡ç†åŠŸèƒ½
- é€‚åˆä¸­å°å›¢é˜Ÿå’Œé¢„ç®—æœ‰é™çš„åœºæ™¯

Nexus Repository Proï¼ˆå•†ä¸šç‰ˆï¼‰ï¼š
- é«˜å¯ç”¨éƒ¨ç½²å’Œä¼ä¸šçº§æ”¯æŒ
- é«˜çº§å®‰å…¨åŠŸèƒ½å’Œæ™ºèƒ½ä»£ç†
- é€‚åˆå¯¹ç¨³å®šæ€§è¦æ±‚é«˜çš„ä¼ä¸š

#### ä»“åº“ç±»å‹
Hosted Repositoryï¼ˆæ‰˜ç®¡ä»“åº“ï¼‰ï¼š
- å­˜å‚¨å†…éƒ¨å¼€å‘çš„åˆ¶å“
- æ”¯æŒéƒ¨ç½²å’Œåˆ é™¤æ“ä½œ

Proxy Repositoryï¼ˆä»£ç†ä»“åº“ï¼‰ï¼š
- ä»£ç†å¤–éƒ¨ä»“åº“ï¼Œæœ¬åœ°ç¼“å­˜
- æé«˜ä¸‹è½½é€Ÿåº¦ï¼Œæ”¯æŒç¦»çº¿è®¿é—®

Group Repositoryï¼ˆç»„åˆä»“åº“ï¼‰ï¼š
- èšåˆå¤šä¸ªä»“åº“ï¼Œç»Ÿä¸€è®¿é—®å…¥å£
- ç®€åŒ–å®¢æˆ·ç«¯é…ç½®

#### SREè¿ç»´ç‰¹ç‚¹
- ç®€å•æ˜“ç”¨ï¼šé…ç½®å’Œç»´æŠ¤ç›¸å¯¹ç®€å•
- èµ„æºå ç”¨ï¼šç›¸æ¯”Artifactoryèµ„æºå ç”¨è¾ƒå°‘
- ç¤¾åŒºæ”¯æŒï¼šå¼€æºç‰ˆæœ¬æœ‰æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒ
- æˆæœ¬æ§åˆ¶ï¼šå¼€æºç‰ˆæœ¬å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚

## 5. SREè§†è§’çš„ä»“åº“ç”Ÿæ€ç³»ç»Ÿæ€»ç»“ ğŸ“Š

### 5.1 æŒ‰ä½¿ç”¨åœºæ™¯åˆ†ç±»æ€»ç»“

| ä½¿ç”¨é˜¶æ®µ | ä»“åº“ç±»å‹ | ä¸»è¦ç”¨é€” | SREå…³æ³¨ç‚¹ | å…¸å‹å·¥å…· | æœ¬åœ°éƒ¨ç½²æ”¯æŒ |
|----------|----------|----------|-----------|----------|------------|
| å¼€å‘é˜¶æ®µ | Gitä»“åº“ | æºç ç®¡ç† | åˆ†æ”¯ç­–ç•¥ã€æƒé™ç®¡ç† | GitHubã€GitLab | âœ… å®Œå…¨æ”¯æŒ |
| å¼€å‘é˜¶æ®µ | è¯­è¨€åŒ…ä»“åº“ | ä¾èµ–ç®¡ç† | å®‰å…¨æ‰«æã€æ„å»ºç¨³å®šæ€§ | Mavenã€npmã€PyPI | âœ… ä»£ç†ç¼“å­˜ |
| æ„å»ºé˜¶æ®µ | Dockerä»“åº“ | é•œåƒå­˜å‚¨ | é•œåƒå®‰å…¨ã€ç‰ˆæœ¬ç®¡ç† | Harborã€ECR | âœ… å®Œå…¨æ”¯æŒ |
| æ„å»ºé˜¶æ®µ | åˆ¶å“ä»“åº“ | æ„å»ºäº§ç‰© | è´¨é‡ä¿è¯ã€è¿½æº¯æ€§ | Nexusã€Artifactory | âœ… å®Œå…¨æ”¯æŒ |
| éƒ¨ç½²é˜¶æ®µ | Helmä»“åº“ | åº”ç”¨åŒ… | æ ‡å‡†åŒ–éƒ¨ç½²ã€å›æ»š | ChartMuseumã€Harbor | âœ… å®Œå…¨æ”¯æŒ |
| éƒ¨ç½²é˜¶æ®µ | é…ç½®ä»“åº“ | é…ç½®ç®¡ç† | é…ç½®å³ä»£ç ã€ç¯å¢ƒä¸€è‡´æ€§ | Gitã€GitOps | âœ… å®Œå…¨æ”¯æŒ |
| ç®¡ç†å¹³å° | ç»Ÿä¸€å¹³å° | å…¨ç”Ÿå‘½å‘¨æœŸ | ç»Ÿä¸€ç›‘æ§ã€åˆè§„ç®¡ç† | Artifactoryã€Nexus | âœ… å®Œå…¨æ”¯æŒ |

æœ¬åœ°éƒ¨ç½²æ”¯æŒè¯´æ˜ï¼š
- âœ… å®Œå…¨æ”¯æŒï¼šå¯ä»¥å®Œå…¨ç¦»çº¿éƒ¨ç½²ï¼Œä¸ä¾èµ–å¤–ç½‘è®¿é—®
- âœ… ä»£ç†ç¼“å­˜ï¼šå¯ä»¥éƒ¨ç½²ä»£ç†æœåŠ¡å™¨ï¼Œç¼“å­˜å¤–éƒ¨ä¾èµ–ï¼Œå‡å°‘å¤–ç½‘è®¿é—®

### 5.2 SREå·¥ä½œæµç¨‹ä¸­çš„ä»“åº“ä½¿ç”¨
ç°ä»£ä¸»æµçš„è½¯ä»¶äº¤ä»˜æµæ°´çº¿ä¸­ï¼Œä»“åº“ç³»ç»Ÿæ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–çš„å·¥ä½œæµç¨‹ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨ä¸åŒé˜¶æ®µä½¿ç”¨å„ç§ä»“åº“ç³»ç»Ÿï¼š
```
å¼€å‘æäº¤ä»£ç  â†’ Gitä»“åº“
     â†“
CIè§¦å‘æ„å»º â†’ æ‹‰å–ä¾èµ–(Maven/npm) â†’ æ„å»ºé•œåƒ â†’ æ¨é€åˆ°Dockerä»“åº“
     â†“
CDéƒ¨ç½²æµç¨‹ â†’ æ‹‰å–é•œåƒ â†’ ä½¿ç”¨Helm Chart â†’ éƒ¨ç½²åˆ°K8s
     â†“
è¿ç»´ç›‘æ§ â†’ ç»Ÿä¸€ä»“åº“ç®¡ç†å¹³å° â†’ ç›‘æ§ã€å‘Šè­¦ã€æ¸…ç†
```

## æ€»ç»“ï¼šæ„å»ºé«˜æ•ˆçš„è½¯ä»¶ä»“åº“ç”Ÿæ€ç³»ç»Ÿ ğŸ¯
ä»“åº“ç”Ÿæ€ç³»ç»Ÿæ˜¯è½¯ä»¶äº¤ä»˜æµæ°´çº¿çš„å…³é”®åŸºç¡€è®¾æ–½ï¼š

1. å¼€å‘é˜¶æ®µï¼šGitå’Œè¯­è¨€åŒ…ä»“åº“ ğŸ“š
2. æ„å»ºé˜¶æ®µï¼šDockerå’Œåˆ¶å“ä»“åº“ ğŸ“¦
3. éƒ¨ç½²é˜¶æ®µï¼šHelmå’Œé…ç½®ä»“åº“ âš“
4. ç®¡ç†å¹³å°ï¼šç»Ÿä¸€ç®¡ç†ç³»ç»Ÿ ğŸª

### SREä»·å€¼
- å¯é æ€§ï¼šæ ‡å‡†åŒ–ä»“åº“ç®¡ç†
- æ•ˆç‡ï¼šè‡ªåŠ¨åŒ–å’Œç¼“å­˜ç­–ç•¥
- å®‰å…¨æ€§ï¼šç»Ÿä¸€å®‰å…¨ç­–ç•¥
- å¯è§‚æµ‹æ€§ï¼šå…¨é“¾è·¯ç›‘æ§

### é€‰æ‹©å»ºè®®
- é¢„ç®—æœ‰é™ï¼šå¼€æºæ–¹æ¡ˆ
- å®‰å…¨è¦æ±‚é«˜ï¼šå•†ä¸šç‰ˆæœ¬
- åˆ†å¸ƒå¼å›¢é˜Ÿï¼šå…¨çƒåˆ†å‘
- åˆè§„è¦æ±‚ï¼šå®¡è®¡åŠŸèƒ½

å¥½çš„ä»“åº“ç³»ç»Ÿæ˜¯å›¢é˜Ÿåä½œå’Œè½¯ä»¶äº¤ä»˜çš„åŸºç¡€è®¾æ–½ï¼ ğŸ›ï¸

----- English

# Repository Ecosystem: The "Super Mall" of Software World

## Introduction: Welcome to the Software Repository Mall ğŸ¬

Hello everyone! Today we're going to explore the "super mall" of the software world - various repository systems. Just like real-world malls have different specialty stores, software development has various professional repositories, each with its own unique features and purposes.

Imagine walking into a massive software repository mall, organized by different stages of the software lifecycle:

Development Zone ğŸ“š:
- Git repositories: Source code libraries storing all the "knowledge"
- Language package repositories: "Raw material warehouses" for various programming languages (Maven, npm, PyPI, etc.)

Build Zone ğŸ“¦:
- Docker repositories: Container specialty stores with packaged applications ready to use
- Artifact repositories: Storage for compiled "semi-finished products"

Deployment Zone âš“:
- Helm repositories: "Configuration package" specialty stores for Kubernetes applications
- Configuration repositories: Various deployment configurations and scripts

Management Center ğŸª:
- Unified repository management platforms: JFrog, Nexus and other "super management systems"

Each zone serves different stages of software delivery, making the work of Development/DevOps/SRE teams more efficient and reliable!

## 1. Development Stage: Source Code and Dependency Management ğŸ“š

### 1.1 Git Repositories: Source Code Libraries

#### Core Philosophy
Git repositories are the "knowledge libraries" of software development, storing all source code, documentation, and project history. From an SRE perspective, this is the starting point of everything - code quality and version management directly impact subsequent build, deployment, and operations work.

#### Repository Hosting Platforms
Public Platforms:
- GitHub: World's largest code hosting platform, preferred for open source projects
- GitLab: Feature-rich DevOps platform with high CI/CD integration
- Bitbucket: Atlassian ecosystem with good Jira integration
- Gitee: Mainstream code hosting platform in China

Private Deployment:
- GitLab CE/EE: Complete solution for private deployment
- Gitea: Lightweight Git service
- Azure DevOps Server: Microsoft's enterprise-grade solution

#### SRE Focus Areas
- Branching Strategy: Impacts release processes and rollback strategies
- Permission Management: Code security and compliance
- CI/CD Integration: Starting point for automated build and deployment
- Backup Strategy: Code is the most important asset

### 1.2 Language Package Repositories: Development Dependency Libraries

#### Core Philosophy
Various programming language package repositories are the "raw material warehouses" for development, storing third-party libraries that projects depend on. From an SRE perspective, dependency management directly affects build stability and security.

#### Major Types
Java Ecosystem - Maven Repositories â˜•:
- Central Repository: Official global Maven repository
- Local Repository: Developer machine cache
- Private Repository: Enterprise internal Maven repositories

```xml
<!-- Configure private repository -->
<repositories>
    <repository>
        <id>company-nexus</id>
        <url>http://nexus.company.com/repository/maven-public/</url>
    </repository>
</repositories>
```

JavaScript Ecosystem - npm Repositories ğŸŸ¨:
- Public Repository: npmjs.com
- Private Solutions: Verdaccio, npm Enterprise

```bash
# Configure private repository
npm config set registry http://npm.company.com/
```

Python Ecosystem - PyPI Repositories ğŸ:
- Public Repository: pypi.org
- Private Solutions: devpi, PyPI Server

Other Language Package Repositories: NuGet (.NET), Go Modules, RubyGems, etc.

#### SRE Focus Areas
- Dependency Security: Vulnerability scanning and license compliance
- Build Stability: Avoiding dependency download failures
- Caching Strategy: Improving build speed
- Version Management: Dependency version locking and upgrade strategies

## 2. Build Stage: Image and Artifact Management ğŸ“¦

### 2.1 Docker Image Repositories: Application Container Stores

#### Core Philosophy
"Build once, run anywhere" - Docker image repositories are the core of the build stage, storing packaged application containers. From an SRE perspective, this is the key link connecting development and deployment, where image quality and management directly impact deployment success rates.

#### Repository Types
Public Repositories:
- Docker Hub: World's largest Docker image repository
- Quay.io: Red Hat's enterprise-grade image repository
- Cloud provider public repositories (AWS ECR Public, Google GCR, etc.)

Private Repositories:
- Harbor: Enterprise-grade Docker repository with rich features
- Docker Registry: Official lightweight repository
- Cloud provider private repositories (AWS ECR, Azure ACR, Alibaba Cloud ACR, etc.)

#### Real-world Application Scenarios
```bash
# Image operations in CI/CD pipelines
docker build -t myapp:${BUILD_NUMBER} .
docker tag myapp:${BUILD_NUMBER} harbor.company.com/project/myapp:${BUILD_NUMBER}
docker push harbor.company.com/project/myapp:${BUILD_NUMBER}

# Pull images in production environment
docker pull harbor.company.com/project/myapp:v1.0.0
```

#### SRE Focus Areas
- Image Security: Vulnerability scanning and base image management
- Image Size: Impacts deployment speed and storage costs
- Version Management: Tagging strategies and image lifecycle
- Access Control: Image pull permissions and network policies
- Storage Management: Image cleanup and storage optimization

### 2.2 Artifact Repositories: Build Product Storage

#### Core Philosophy
Artifact repositories store various "semi-finished" and "finished" products generated during the build process, including compiled binary files, installation packages, documentation, etc. This is an important output of the build pipeline.

#### Artifact Types
- Binary Files: Executable files, library files (e.g., Java lib files)
- Installation Packages: RPM, DEB, MSI and other system packages
- Archive Files: TAR, ZIP and other compressed files
- Documentation: API documentation, user manuals
- Test Reports: Unit test and integration test results

#### SRE Focus Areas
- Build Traceability: Correspondence between artifacts and source code versions
- Quality Assurance: Only tested artifacts can be released
- Storage Strategy: Artifact retention time and cleanup policies
- Distribution Efficiency: Artifact download speed and availability

## 3. Deployment Stage: Configuration and Application Package Management âš“

### 3.1 Helm Repositories: Kubernetes Application Stores

#### Core Philosophy
Helm is Kubernetes' "package manager," and Helm repositories store various Kubernetes application "configuration packages" (Charts). From an SRE perspective, this is a key tool for standardized deployment and application management.

#### Helm Chart Structure
```
mychart/
  Chart.yaml          # Chart metadata
  values.yaml         # Default configuration values
  charts/             # Dependent sub-Charts
  templates/          # Kubernetes template files
    deployment.yaml
    service.yaml
    ingress.yaml
```

#### Repository Types
Public Repositories:
- Artifact Hub: Official Helm Chart search platform
- Bitnami Charts: High-quality application Chart collection
- Vendor official Chart repositories

Private Repositories:
- ChartMuseum: Lightweight Helm Chart repository
- Harbor: Enterprise-grade repository supporting Helm Chart storage

#### Common Operations
```bash
# SRE daily operations
helm repo add bitnami https://charts.bitnami.com/bitnami
helm repo update

# Deploy applications
helm install my-nginx bitnami/nginx -f production-values.yaml

# Upgrade applications
helm upgrade my-nginx bitnami/nginx --set replicaCount=3

# Rollback applications
helm rollback my-nginx 1
```

#### SRE Focus Areas
- Standardized Deployment: Unified application deployment patterns
- Configuration Management: Environment-specific configuration values
- Version Control: Correspondence between Chart versions and application versions
- Dependency Management: Dependencies between Charts
- Rollback Capability: Quick rollback to previous stable versions

### 3.2 Configuration Repositories: Deployment Configuration Management

#### Core Philosophy
Configuration repositories store various deployment-related configuration files, scripts, and templates. This is the foundation of GitOps practices, where all configuration changes are managed through version control.

#### Configuration Types
- Environment Configuration: Configuration parameters for different environments
- Infrastructure as Code: Terraform, Ansible scripts
- CI/CD Configuration: Pipeline definition files

#### SRE Focus Areas
- Configuration as Code: All configurations are version-controlled
- Environment Consistency: Ensuring consistency across different environments
- Change Tracking: Auditing and rollback of configuration changes
- Permission Control: Access management for configuration modifications

## 4. Management Platform: Unified Repository Management Systems ğŸª

### 4.1 JFrog Artifactory: Enterprise-Grade Unified Platform

#### Core Philosophy
Artifactory is an enterprise-grade "universal repository manager." From an SRE perspective, it's a central platform for unified management of all artifacts, providing enterprise-level security, compliance, and performance guarantees.

#### Supported Repository Types
Full Format Support:
- Source Dependencies: Maven, npm, PyPI, NuGet, Go Modules
- Container Images: Docker, OCI
- Application Packages: Helm, APT, YUM, RPM
- Generic Files: Raw, Generic

#### Enterprise-Grade Features
Core Functions SRE Cares About:
- High Availability Deployment: Cluster mode to avoid single points of failure
- Global Distribution: CDN acceleration for improved global team access speed
- Security Scanning: Integrated Xray for vulnerability and license scanning
- Audit Compliance: Complete operation logs and compliance reporting
- Automated Cleanup: Policy-based artifact lifecycle management

#### SRE Operations Advantages
- Unified Monitoring: Centralized monitoring and alerting for all repositories
- Backup & Recovery: Enterprise-grade backup and disaster recovery
- Performance Optimization: Smart caching and load balancing
- Permission Management: Fine-grained access control and RBAC

### 4.2 Nexus Repository: Practical Management Platform

#### Core Philosophy
Nexus is a cost-effective repository management platform, especially suitable for small and medium enterprises. The open-source version is already quite powerful, while the commercial version provides enterprise-level support.

#### Version Comparison
Nexus Repository OSS (Open Source):
- Free to use, supports mainstream package formats
- Basic repository management features
- Suitable for small to medium teams and budget-limited scenarios

Nexus Repository Pro (Commercial):
- High availability deployment and enterprise-level support
- Advanced security features and smart proxying
- Suitable for enterprises with high stability requirements

#### Repository Types
Hosted Repository:
- Stores internally developed artifacts
- Supports deployment and deletion operations

Proxy Repository:
- Proxies external repositories with local caching
- Improves download speed and supports offline access

Group Repository:
- Aggregates multiple repositories with unified access point
- Simplifies client configuration

#### SRE Operations Characteristics
- Simple and Easy: Relatively simple configuration and maintenance
- Resource Usage: Lower resource consumption compared to Artifactory
- Community Support: Active community support for open-source version
- Cost Control: Open-source version meets most requirements

#### Configuration Examples
```xml
<!-- Maven settings.xml configuration -->
<settings>
  <mirrors>
    <mirror>
      <id>nexus</id>
      <mirrorOf>*</mirrorOf>
      <url>http://nexus.company.com/repository/maven-public/</url>
    </mirror>
  </mirrors>
</settings>
```

#### Supported Repository Formats
```
Maven2, npm, NuGet, PyPI, Docker, Helm,
APT, YUM, Raw, Bower, CocoaPods,
CPAN, Go, p2, R, RubyGems, etc.
```

## 5. SRE Perspective: Repository Ecosystem Summary ğŸ“Š

### 5.1 Classification Summary by Usage Scenarios

| Usage Stage | Repository Type | Main Purpose | SRE Focus Areas | Typical Tools | Local Deployment Support |
|-------------|-----------------|--------------|-----------------|---------------|--------------------------|
| Development Stage | Git Repository | Source Code Management | Branching Strategy, Permission Management | GitHub, GitLab | âœ… Full Support |
| Development Stage | Language Package Repository | Dependency Management | Security Scanning, Build Stability | Maven, npm, PyPI | âœ… Proxy Caching |
| Build Stage | Docker Repository | Image Storage | Image Security, Version Management | Harbor, ECR | âœ… Full Support |
| Build Stage | Artifact Repository | Build Products | Quality Assurance, Traceability | Nexus, Artifactory | âœ… Full Support |
| Deployment Stage | Helm Repository | Application Packages | Standardized Deployment, Rollback | ChartMuseum, Harbor | âœ… Full Support |
| Deployment Stage | Configuration Repository | Configuration Management | Configuration as Code, Environment Consistency | Git, GitOps | âœ… Full Support |
| Management Platform | Unified Platform | Full Lifecycle | Unified Monitoring, Compliance Management | Artifactory, Nexus | âœ… Full Support |

Local Deployment Support Explanation:
- âœ… Full Support: Can be deployed completely offline without external network dependencies
- âœ… Proxy Caching: Can deploy proxy servers to cache external dependencies, reducing external network access

### 5.2 Repository Usage in SRE Workflows

```
Developer commits code â†’ Git Repository
     â†“
CI triggers build â†’ Pull dependencies (Maven/npm) â†’ Build images â†’ Push to Docker Repository
     â†“
CD deployment process â†’ Pull images â†’ Use Helm Charts â†’ Deploy to K8s
     â†“
Operations monitoring â†’ Unified repository management platform â†’ Monitoring, alerting, cleanup
```



## Summary: Building an Efficient Software Repository Ecosystem ğŸ¯
Repository ecosystems are critical infrastructure for software delivery pipelines:

1. Development Stage: Git and language package repositories ğŸ“š
2. Build Stage: Docker and artifact repositories ğŸ“¦
3. Deployment Stage: Helm and configuration repositories âš“
4. Management Platform: Unified management systems ğŸª

### SRE Value
- Reliability: Standardized repository management
- Efficiency: Automation and caching strategies
- Security: Unified security policies
- Observability: Full-chain monitoring

### Selection Recommendations
- Limited Budget: Open-source solutions
- High Security Requirements: Commercial versions
- Distributed Teams: Global distribution
- Compliance Requirements: Audit capabilities

Good repository systems are the foundation of team collaboration and software delivery! ğŸ›ï¸
